<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Documentation Home</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
             
                <a href="index.html">
                    <h1 class="navbar-item">SimleTaskScheduler documentation</h1>
                </a>
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    API Documentation
                </a>
                
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
                <div class="search-wrapper">
                    <input id="search" type="text" placeholder="Search docs..." class="input">
                </div>
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3>Modules</h3><ul><li><a href="module-Tasks.html">Tasks</a></li></ul><h3>Classes</h3><ul><li><a href="module-Tasks-Task.html">Task</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p></p>
                    <h1>Home</h1>
                </header>
                



    


    <h3> </h3>










    




    <section>
        <article><h1>Документация</h1>
<h2>Установка</h2>
<h3>NPM</h3>
<p>Установка через стандартный менеджер пакетов NPM</p>
<pre class="prettyprint source lang-shell"><code>npm install simple-scheduler-task
</code></pre>
<h3>Yarn</h3>
<p>Установка через пакетный менеджер Yarn</p>
<pre class="prettyprint source lang-shell"><code>yarn add simple-scheduler-task
</code></pre>
<h2>Инициализация</h2>
<pre class="prettyprint source lang-js"><code>const scheduler = require(&quot;simple-scheduler-task&quot;);
</code></pre>
<h2>Events</h2>
<p>Вы можете получать значение которое возвращает планируемая задача, а также получать ошибки происходящие при выполнении задачи при использовании событий.</p>
<p>Более подробно о работе событий: https://nodejs.org/api/events.html</p>
<h3>logs</h3>
<p>Сервисные уведомления модуля</p>
<h4>Использование:</h4>
<pre class="prettyprint source lang-js"><code>scheduler.events.on(`logs`, async (data) => {
	console.log(data); // => String
});
</code></pre>
<h3>errors</h3>
<p>Уведомления связанные с ошибками при выполнении задач</p>
<h4>Использование:</h4>
<pre class="prettyprint source lang-js"><code>scheduler.events.on(`errors`, async (data) => {
	console.log(data); // => Object
});
</code></pre>
<h4>Структура уведомления</h4>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>task</td>
<td>Object</td>
<td><a href="#%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B8">Задача в которой произошла ошибка</a></td>
</tr>
<tr>
<td>error</td>
<td>Object</td>
<td>Объект ошибки</td>
</tr>
<tr>
<td>executionTime</td>
<td>Number</td>
<td>Время выполнения в ms</td>
</tr>
</tbody>
</table>
<h3>executions</h3>
<p>Уведомления связанные с успешным выполнением задач</p>
<h4>Использование:</h4>
<pre class="prettyprint source lang-js"><code>scheduler.events.on(`executions`, async (data) => {
	console.log(data); // => Object
});
</code></pre>
<h4>Структура уведомления</h4>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>task</td>
<td>Object</td>
<td><a href="#%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B8">Задача в которой произошла ошибка</a></td>
</tr>
<tr>
<td>response</td>
<td>Any</td>
<td>Значение которая возвращает задача</td>
</tr>
<tr>
<td>executionTime</td>
<td>Number</td>
<td>Время выполнения в ms</td>
</tr>
</tbody>
</table>
<h2>Tasks</h2>
<p>Функции для добавления, удаления, просмотра задач</p>
<h3>add</h3>
<p>Добавляет задачу в планировщик</p>
<h4>Использование</h4>
<pre class="prettyprint source lang-js"><code>scheduler.tasks.add(taskData); // => Promise&lt;String>
</code></pre>
<h4>Структура taskData</h4>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Тип</th>
<th>Описание</th>
<th>По умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td>plannedTime</td>
<td>Number</td>
<td>Время в ms когда должна выполниться задача</td>
<td>null</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Тип задачи</td>
<td>missing</td>
</tr>
<tr>
<td>params</td>
<td>Object</td>
<td>Параметры задачи</td>
<td>{}</td>
</tr>
<tr>
<td>inform</td>
<td>Boolean</td>
<td>Выводить ли в событиях информацию о задаче</td>
<td>false</td>
</tr>
<tr>
<td>isInterval</td>
<td>Boolean</td>
<td>Выполнять ли задачу с определённым промежутком</td>
<td>false</td>
</tr>
<tr>
<td>intervalTimer</td>
<td>Boolean</td>
<td>Промежуток выполнения интервала в ms</td>
<td>null</td>
</tr>
<tr>
<td>intervalTriggers</td>
<td>Number</td>
<td>Количество срабатываний интервала</td>
<td>null</td>
</tr>
<tr>
<td>intervalTriggers</td>
<td>Function</td>
<td>Функция которую должна выполнить задача</td>
<td>null</td>
</tr>
</tbody>
</table>
<h4>Примеры</h4>
<p>Создание задачи которая должна вывести Hello, world! через 15 секунд</p>
<pre class="prettyprint source lang-js"><code>scheduler.tasks.add({
	inform: true, // Выведет в события ответ задачу
	plannedTime: Number(new Date()) + 15000, // Время выполнения задачи
	code: async function () {
		console.log(`Hello, world!`); // Вывод Hello, world!
		return 5; // Значение возвращаемое функцией
	},
}); // Promise&lt;String> (Идентификатор задачи)
</code></pre>
<p>При таких параметрах <a href="#executions">сюда</a> придёт событие</p>
<pre class="prettyprint source lang-json"><code>{
  &quot;task&quot;: {
    &quot;id&quot;: &quot;5f8458bfb764ead2&quot;,
    &quot;type&quot;: &quot;missing&quot;,
    &quot;params&quot;: {},
    &quot;status&quot;: &quot;executed&quot;,
    &quot;isInterval&quot;: false,
    &quot;source&quot;: // Function
  },
  &quot;response&quot;: 5,
  &quot;executionTime&quot;: 0.9672999978065491
}
</code></pre>
<h3>get</h3>
<p>Получает задачу по её идентификатору</p>
<pre class="prettyprint source lang-js"><code>scheduler.tasks.get(taskID); // Promise&lt;Object>
</code></pre>
<p>Возвращает задачу в <a href="#%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B8">формате</a></p>
<h3>getAll</h3>
<p>Получает все запланированные задачи</p>
<pre class="prettyprint source lang-js"><code>scheduler.tasks.getAll(); // Promise&lt;Array>
</code></pre>
<p>Возвращает массив с задачами в <a href="#%D0%A1%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B8">формате</a></p>
<h3>delete</h3>
<p>Удаляет задачу по её идентификатору</p>
<pre class="prettyprint source lang-js"><code>scheduler.tasks.delete(taskID); // Promise&lt;Boolean>
</code></pre>
<p>Возвращает true при успешном удалении задачи</p>
<h2>settings</h2>
<p>Класс для работы с настройками</p>
<h3>setMode</h3>
<p>Позволяет установить режим работы модуля.</p>
<p>Принимает один из двух параметров, либо timeout, либо interval.</p>
<p>timeout для каждой задачи создаёт отдельный таймаут, а interval создаёт один интервал для всех задач.</p>
<pre class="prettyprint source lang-js"><code>scheduler.settings.setMode(&quot;timeout&quot;); // Promise&lt;Boolean>
</code></pre>
<p>Возвращает true при успешной смене режима работы</p>
<h3>editCheck</h3>
<p>Изменяет переодичность проверки задач интервалом</p>
<pre class="prettyprint source lang-js"><code>scheduler.settings.editCheck(2000); // Promise&lt;Boolean>
</code></pre>
<p>Приведённый код устанавливает проверку задач каждые 2 секунды</p>
<p>Возвращает true при успешном изменении интервала</p>
<h2>backup</h2>
<h3>init</h3>
<p>Проверяет наличие папки для бэкапа задач, и если она отсуствует создаёт её.</p>
<pre class="prettyprint source lang-js"><code>scheduler.backup.init(); // Promise&lt;Boolean>
</code></pre>
<h3>save</h3>
<p>Сохраняет все задачи</p>
<pre class="prettyprint source lang-js"><code>scheduler.backup.save(); // Promise&lt;Boolean>
</code></pre>
<h3>load</h3>
<p>Загружает сохранённые задачи</p>
<pre class="prettyprint source lang-js"><code>scheduler.backup.load(); // Promise&lt;Boolean>
</code></pre>
<h2>Структура задачи</h2>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Идентификатор задачи</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Тип задачи</td>
</tr>
<tr>
<td>params</td>
<td>Object</td>
<td>Параметры задачи</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>Статус выполнения задачи</td>
</tr>
<tr>
<td>isInterval</td>
<td>Boolean</td>
<td>Выполнять ли задачу с определённым промежутком</td>
</tr>
<tr>
<td>source</td>
<td>Function</td>
<td>Функция которая должна выполниться</td>
</tr>
</tbody>
</table>
<p>В случае если параметр isInterval равен true, возвращается дополнительное поле intervalData</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>interval</td>
<td>Number</td>
<td>Промежуток выполнения интервала</td>
</tr>
<tr>
<td>triggeringQuantity</td>
<td>Number</td>
<td>Количество срабатываний интервала</td>
</tr>
<tr>
<td>remainingTriggers</td>
<td>Number</td>
<td>Количество оставшихся срабатываний интервала</td>
</tr>
</tbody>
</table></article>
    </section>






            </div>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>

<script src="scripts/search.js"> </script>

</body>
</html>